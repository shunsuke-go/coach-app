var unlike = document.getElementById('unlike');
var like_form = document.getElementById('like_form');
var likes_count = document.getElementById('likes_count');

like_form.insertAdjacentHTML('afterbegin',"<%= j(render 'like_button') %>");
unlike.remove();

fetch('/articles/<%= @article.id %>/likes/counts.json',{
  mode: 'cors',
  method: 'GET',
  headers: {
    Authorization: "Token <%= current_user.token %>",
    "Content-Type": "application/json"
  }
}).then(response => response.json())
.then(data => {
likes_count.textContent=data.counts
}).catch(e => {
  console.log(e);
})